!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.fetchObservable=e():t.fetchObservable=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return"string"==typeof t}function i(t){return"function"==typeof t}function u(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=e.refreshDelay,n=void 0===r?!1:r,u=[],c=null,s=!1,a=0;(s=o(t))&&(t=[t]);var l=function h(){if(0!==u.length&&!p.paused()){var r=function(){n?c=setTimeout(h,i(n)?n(a++):n):(p.pause(),u.map(function(t){return t.complete()}),u=[])},o=t.map(function(t){return fetch(t,e)});Promise.all(o).then(function(t){u.map(function(e){return e.next(s?t[0]:t)}),r()})["catch"](function(t){u.map(function(e){return e.error(s?t[0]:t)}),r()})}},p=new f["default"](function(t){return u.push(t),p.resume(),function(){u.splice(u.indexOf(t),1),u.length||p.pause()}},{onPause:function(){c&&(clearTimeout(c),c=null)},onResume:function(){c||l()}});return p}var c=r(2),f=n(c);t.exports=u},function(t,e,r){(function(t,r){"use strict";function n(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function o(t){i()&&!Symbol[t]&&Object.defineProperty(Symbol,t,{value:Symbol(t)})}function i(){return"function"==typeof Symbol}function u(t){return i()&&Boolean(Symbol[t])}function c(t){return u(t)?Symbol[t]:"@@"+t}function f(t,e){var r=t[e];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function s(t){var e=c("species");return e?t[e]:t}function a(t,e){Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);n.enumerable=!1,Object.defineProperty(t,r,n)})}function l(t){var e=t._cleanup;e&&(t._cleanup=void 0,e())}function p(t){return void 0===t._observer}function h(t){p(t)||(t._observer=void 0,l(t))}function v(t){return function(e){t.unsubscribe()}}function b(t,e){if(Object(t)!==t)throw new TypeError("Observer must be an object");var r=new y(t),n=new d(r),o=f(t,"start");if(o&&o.call(t,n),p(r))return n;try{var i=e.call(void 0,r);if(null!=i){if("function"==typeof i.unsubscribe)i=v(i);else if("function"!=typeof i)throw new TypeError(i+" is not a function");r._cleanup=i}}catch(u){return r.error(u),n}return p(r)&&l(r),n}function y(t){this._observer=t,this._cleanup=void 0}function d(t){this._observer=t}function m(t){if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=m;var g=function(){if("undefined"!=typeof t&&"undefined"!=typeof r&&r.nextTick)return t.setImmediate?function(e){t.setImmediate(e)}:function(t){r.nextTick(t)};var e=self.MutationObserver||self.WebKitMutationObserver;if(e){var o=function(){var t=document.createElement("div"),r=function(e){return t.classList.toggle("x")},n=[],o=new e(function(t){for(n.length>1&&r();n.length>0;)n.shift()()});return o.observe(t,{attributes:!0}),{v:function(t){n.push(t),1===n.length&&r()}}}();if("object"===("undefined"==typeof o?"undefined":n(o)))return o.v}return function(t){setTimeout(t,0)}}();o("observable"),a(y.prototype={},{get closed(){return p(this)},next:function(t){if(!p(this)){var e=this._observer;try{var r=f(e,"next");if(!r)return;return r.call(e,t)}catch(n){try{h(this)}finally{throw n}}}},error:function(t){if(p(this))throw t;var e=this._observer;this._observer=void 0;try{var r=f(e,"error");if(!r)throw t;t=r.call(e,t)}catch(n){try{l(this)}finally{throw n}}return l(this),t},complete:function(t){if(!p(this)){var e=this._observer;this._observer=void 0;try{var r=f(e,"complete");t=r?r.call(e,t):void 0}catch(n){try{l(this)}finally{throw n}}return l(this),t}}}),a(d.prototype={},{unsubscribe:function(){h(this._observer)}}),a(m.prototype,{subscribe:function(t){return b(t,this._subscriber)},forEach:function(t){var e=this;return new Promise(function(r,n){if("function"!=typeof t)throw new TypeError(t+" is not a function");e.subscribe({next:function(e){try{return t(e)}catch(r){n(r)}},error:n,complete:r})})},map:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var r=s(this.constructor);return new r(function(r){return e.subscribe({next:function(e){try{e=t(e)}catch(n){return r.error(n)}return r.next(e)},error:function(t){return r.error(t)},complete:function(t){return r.complete(t)}})})},filter:function(t){var e=this;if("function"!=typeof t)throw new TypeError(t+" is not a function");var r=s(this.constructor);return new r(function(r){return e.subscribe({next:function(e){try{if(!t(e))return}catch(n){return r.error(n)}return r.next(e)},error:function(t){return r.error(t)},complete:function(t){return r.complete(t)}})})}}),Object.defineProperty(m.prototype,c("observable"),{value:function(){return this},writable:!0,configurable:!0}),a(m,{from:function(t){var e="function"==typeof this?this:m;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,c("observable"));if(r){var o=function(){var n=r.call(t);if(Object(n)!==n)throw new TypeError(n+" is not an object");return n.constructor===e?{v:n}:{v:new e(function(t){return n.subscribe(t)})}}();if("object"===("undefined"==typeof o?"undefined":n(o)))return o.v}return new e(function(e){g(function(r){if(!e.closed){try{if(u("iterator")){var n=!0,o=!1,i=void 0;try{for(var c,f=t[Symbol.iterator]();!(n=(c=f.next()).done);n=!0){var s=c.value;if(e.next(s),e.closed)return}}catch(a){o=!0,i=a}finally{try{!n&&f["return"]&&f["return"]()}finally{if(o)throw i}}}else{if(!Array.isArray(t))throw new Error(t+" is not an Array");for(var l=0;l<t.length;++l)if(e.next(t[l]),e.closed)return}}catch(p){return void e.error(p)}e.complete()}})})},of:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];var n="function"==typeof this?this:m;return new n(function(t){g(function(r){if(!t.closed){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}})})}}),Object.defineProperty(m,c("species"),{get:function(){return this},configurable:!0})}).call(e,function(){return this}(),r(3))},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function a(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:a(o,e,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)};Object.defineProperty(e,"__esModule",{value:!0});var f=r(1),s=function(t){function e(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n(this,e);var i=o(this,Object.getPrototypeOf(e).call(this,t));return i.options=r,i.state="paused",i}return i(e,t),u(e,[{key:"pause",value:function(){if(this.state="paused",this.options.onPause){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];this.options.onPause.apply(this,e)}return this}},{key:"resume",value:function(){if(this.state="resumed",this.options.onResume){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];this.options.onResume.apply(this,e)}return this}},{key:"paused",value:function(){return"paused"===this.state}},{key:"subscribe",value:function(t){var r=c(Object.getPrototypeOf(e.prototype),"subscribe",this).call(this,t),n=this;return r.active=function(){return n.paused()?!1:void 0===this._observer?!1:void 0===this._observer._observer?!1:!0},r.resubscribe=function(){this.active()||Object.assign(this,n.subscribe(t))},r}}]),e}(f.Observable);e["default"]=s},function(t,e){function r(){s=!1,u.length?f=u.concat(f):a=-1,f.length&&n()}function n(){if(!s){var t=setTimeout(r);s=!0;for(var e=f.length;e;){for(u=f,f=[];++a<e;)u&&u[a].run();a=-1,e=f.length}u=null,s=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var u,c=t.exports={},f=[],s=!1,a=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];f.push(new o(t,e)),1!==f.length||s||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}}])});